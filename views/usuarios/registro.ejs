<%- include('../layouts/base', { body: `
  <section>
    <div class="usuarios-header">
      <div>
        <h2>Registrar usuario</h2>
        <p class="section-description">
          Crea cuentas para tu equipo y asigna el rol exacto que necesitan dentro del panel.
        </p>
      </div>
      <a href="/usuarios" class="btn-secundario btn-regresar">Volver al listado</a>
    </div>

    ${ok ? `<div class="ok">Usuario creado correctamente</div>` : '' }
    ${error ? `<div class="alert">${error}</div>` : '' }

    <form method="post" action="/usuarios/registro" novalidate class="formulario-usuario">
      <label>Nombre</label>
      <input name="nombre" value="${(values && values.nombre) || ''}" required>

      <label>Apellido</label>
      <input name="apellido" value="${(values && values.apellido) || ''}">

      <label>Correo</label>
      <input type="email" name="correo" value="${(values && values.correo) || ''}" required>

      <label>Rol</label>
      <select name="rol" required>
        ${(roles || []).map(r => `
          <option value="${r.value}" ${(values && values.rol === r.value) ? 'selected' : ''}>${r.label}</option>
        `).join('')}
      </select>

      <label>Contraseña</label>
      <input type="password" name="contrasena" required>

      <label>Confirmar contraseña</label>
      <input type="password" name="confirmar" required>

      <input type="hidden" name="_csrf" value="${csrfToken}">
      <button>Guardar</button>
    </form>
  </section>
` }) %>
