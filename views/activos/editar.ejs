<%- include('../layouts/base', { body: `
  <section class="editar-activo">
    <a href="/activos/${activoId}" class="btn-regresar">← Volver al detalle</a>
    <h2>Editar activo</h2>

    ${errores && errores.length ? `<div class="alert">${errores.map(e => `<div>${e}</div>`).join('')}</div>` : ''}

    ${!activo ? `
      <p>No fue posible cargar la información del activo solicitado.</p>
    ` : `
      <form method="post" action="/activos/${activoId}/editar" class="formulario-activo">
        <label for="categoria">Categoría</label>
        <select id="categoria" name="id_categoria_activos" required>
          ${categorias.map(c => `
            <option value="${c.id_categoria_activos}" ${String(values.id_categoria_activos) === String(c.id_categoria_activos) ? 'selected' : ''}>${c.nombre}</option>
          `).join('')}
        </select>

        <label for="area">Área</label>
        <select id="area" name="id_area" required>
          ${areas.map(a => `
            <option value="${a.id_area}" ${String(values.id_area) === String(a.id_area) ? 'selected' : ''}>${a.nombre_area}</option>
          `).join('')}
        </select>

        <label for="marca">Marca</label>
        <input id="marca" name="marca" maxlength="50" value="${values.marca ?? ''}">

        <label for="modelo">Modelo</label>
        <input id="modelo" name="modelo" maxlength="50" value="${values.modelo ?? ''}">

        <label for="estado">Estado</label>
        <input id="estado" name="estado" maxlength="50" required value="${values.estado ?? ''}">

        <label for="fecha_compra">Fecha de adquisición</label>
        <input id="fecha_compra" type="date" name="fecha_compra" value="${values.fecha_compra ?? ''}">

        <label for="precio_lista">Precio lista</label>
        <input id="precio_lista" type="number" step="0.01" name="precio_lista" value="${values.precio_lista ?? ''}">

        <label for="numero_serie">Número de serie</label>
        <input id="numero_serie" name="numero_serie" maxlength="100" value="${values.numero_serie ?? ''}">

        <input type="hidden" name="_csrf" value="${csrfToken}">
        <button type="submit">Guardar cambios</button>
      </form>
    `}
  </section>
` }) %>
